<link rel="import" href="./genomic/variant-filter-chromosomal-locator.html">
<link rel="import" href="./genomic/variant-filter-feature-selector.html">
<link rel="import" href="./genomic/mmp-panel-selector.html">
<link rel="import" href="./genomic/variant-filter-biotype-selector.html">
<link rel="import" href="./genomic/variant-filter-variant-type-selector.html">
<link rel="import" href="./genomic/variant-filter-consequence-selector.html">


<dom-module id="opencga-variant-filter-sec-genomic">
    <template>
        <div class="panel panel-default" style="margin-bottom: 10px">
            <div class="panel-heading" role="tab">
                <h4 class="panel-title">
                    <a class="collapsed" role="button" data-toggle="collapse" href="#[[collapsibleId]]" aria-expanded="true" aria-controls="[[collapsibleId]]">
                        Genomic
                    </a>
                </h4>
            </div>

            <div id="[[collapsibleId]]" class="panel-collapse collapse" role="tabpanel">
                <div class="panel-body">
                    <variant-filter-chromosomal-locator query="{{query}}"></variant-filter-chromosomal-locator>
                    <variant-filter-feature-selector cellbase-client="[[cellbaseClient]]" query="{{query}}"></variant-filter-feature-selector>
                    <mmp-panel-selector query="{{query}}"></mmp-panel-selector>
                    <variant-filter-biotype-selector query="{{query}}"></variant-filter-biotype-selector>
                    <variant-filter-variant-type-selector query="{{query}}"></variant-filter-variant-type-selector>
                    <variant-filter-consequence-selector query="{{query}}" consequence-types="[[consequenceTypes]]"></variant-filter-consequence-selector>
                </div>
            </div>
        </template>
    </template>
    <script>

        class OpencgaVariantFilterSecGenomic extends Polymer.Element {

            constructor() {
                super();
                const prefix = `ovfss${Utils.randomString(8)}`;
                this._setCollapsibleId(`${prefix}-collapsible-id`);
            }

            static get is() {
                return "opencga-variant-filter-sec-genomic";
            }

            static get properties() {
                return {
                    cellbaseClient: {
                        type: Object,
                    },
                    query: {
                        type: Object,
                        notify: true,
                    },
                    consequenceTypes: {
                        type: Object,
                    },
                    collapsibleId: {
                        type: String,
                        readOnly: true,
                    },
                };
            }

            _attachDom(dom) {
                this.appendChild(dom);
            }
        }

        customElements.define(OpencgaVariantFilterSecGenomic.is, OpencgaVariantFilterSecGenomic);

    </script>
</dom-module>